\documentclass[11pt,a4paper]{article}
\usepackage{microtype}
\usepackage{fontspec}
\usepackage{luatexja}
\usepackage{luatexja-fontspec}
\usepackage{newunicodechar}
\ltjsetparameter{autospacing=true, autoxspacing=true}
\ltjdefcharrange{10}{"2700-"27BF}
\ltjdefcharrange{11}{"2B00-"2BFF}
\ltjsetparameter{jacharrange={-1, -2, +3, -4, -5, +6, +7, -8, +9, -10, -11}}
% Fallback fonts for missing glyphs (emoji/symbols/arabic)
\defaultfontfeatures{Renderer=HarfBuzz}
\directlua{luaotfload.add_fallback("global", {"Noto Color Emoji:mode=harf", "Noto Sans Symbols2:mode=harf", "Noto Sans Symbols:mode=harf", "Noto Sans:mode=harf", "Noto Naskh Arabic:mode=harf", "Noto Sans Arabic:mode=harf"})}
\setmainfont{FandolSong-Regular.otf}[
  Path=/usr/share/texlive/texmf-dist/fonts/opentype/public/fandol/,
  BoldFont=FandolSong-Bold.otf,
  RawFeature={fallback=global}
]
\setsansfont{FandolHei-Regular.otf}[
  Path=/usr/share/texlive/texmf-dist/fonts/opentype/public/fandol/,
  BoldFont=FandolHei-Bold.otf,
  RawFeature={fallback=global}
]
\setmonofont{NotoSansMono-Regular.ttf}[
  Path=/usr/share/fonts/truetype/noto/,
  RawFeature={fallback=global}
]
\setmainjfont{Noto Serif CJK SC}[
  BoldFont={Noto Serif CJK SC:style=Bold}
]
\setsansjfont{Noto Sans CJK SC}[
  BoldFont={Noto Sans CJK SC:style=Bold}
]
\setmonojfont{NotoSansMono-Regular.ttf}[
  Path=/usr/share/fonts/truetype/noto/
]
\newfontfamily\emojifont{Noto Color Emoji}[Renderer=HarfBuzz]
\newfontfamily\latinfont{Noto Sans}[Renderer=HarfBuzz, RawFeature={fallback=global}]
\newunicodechar{‚òÖ}{{\emojifont ‚òÖ}}
\newunicodechar{‚òÜ}{{\emojifont ‚òÜ}}
\newfontfamily\symbolfont{NotoSansSymbols2-Regular.ttf}[Path=/usr/share/fonts/truetype/noto/]
\newunicodechar{‚Ø™}{{\symbolfont ‚Ø™}}
\newunicodechar{üôÑ}{{\emojifont üôÑ}}
\newunicodechar{üò±}{{\emojifont üò±}}
\newunicodechar{üî•}{{\emojifont üî•}}
\newunicodechar{üôâ}{{\emojifont üôâ}}
\newunicodechar{‚ù§}{{\emojifont ‚ù§}}
\newunicodechar{‚úÖ}{{\emojifont ‚úÖ}}
\newunicodechar{‚úî}{{\emojifont ‚úî}}
\newunicodechar{‚úì}{{\emojifont ‚úì}}
\newunicodechar{‚òë}{{\emojifont ‚òë}}
\newunicodechar{œµ}{{\latinfont œµ}}
\newunicodechar{œ∂}{{\latinfont œ∂}}
\newunicodechar{Œò}{{\latinfont Œò}}
\newunicodechar{»ô}{{\latinfont »ô}}
\newunicodechar{»ò}{{\latinfont »ò}}
\newunicodechar{Ô∏è}{}
\usepackage{geometry}
\geometry{left=1.15in,right=1.15in,top=1.1in,bottom=1.2in}
\usepackage{setspace}
\setstretch{1.18}
\usepackage{titlesec}
\titleformat{\section}{\Large\bfseries}{}{0pt}{}
\titleformat{\subsection}{\large\bfseries}{}{0pt}{}
\titleformat{\subsubsection}{\normalsize\bfseries}{}{0pt}{}
\titlespacing*{\section}{0pt}{1.2em}{0.6em}
\titlespacing*{\subsection}{0pt}{1.0em}{0.4em}
\titlespacing*{\subsubsection}{0pt}{0.8em}{0.3em}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\cfoot{\thepage}
\renewcommand{\headrulewidth}{0pt}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{xcolor}
\definecolor{LinkBlue}{RGB}{26,78,132}
\definecolor{Accent}{RGB}{196,64,50}
\hypersetup{colorlinks=true, linkcolor=LinkBlue, urlcolor=LinkBlue}
\setkeys{Gin}{width=\linewidth,keepaspectratio}
\newcommand{\numhl}[1]{\textcolor{Accent}{\textbf{#1}}}
\usepackage[most]{tcolorbox}
\newtcolorbox{tweetquote}{
  enhanced,
  breakable,
  colback=black!2,
  colframe=Accent!60,
  boxrule=0.4pt,
  arc=2pt,
  left=8pt,
  right=8pt,
  top=5pt,
  bottom=5pt,
  borderline west={2pt}{0pt}{Accent}
}
\tcolorboxenvironment{quote}{
  enhanced,
  breakable,
  colback=black!2,
  colframe=Accent!60,
  boxrule=0.4pt,
  arc=2pt,
  left=8pt,
  right=8pt,
  top=5pt,
  bottom=5pt,
  borderline west={2pt}{0pt}{Accent}
}
\usepackage{longtable,booktabs,array,calc,amssymb}
\usepackage{listings}
\definecolor{CodeComment}{RGB}{98,114,164}
\definecolor{CodeKeyword}{RGB}{198,120,221}
\definecolor{CodeString}{RGB}{152,195,121}
\definecolor{CodeNumber}{RGB}{209,154,102}
\definecolor{CodeText}{RGB}{40,44,52}
\usepackage{fancyvrb}
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\definecolor{CodeBg}{RGB}{248,248,248}
\definecolor{CodeBorder}{RGB}{220,220,220}
\lstdefinestyle{pythonstyle}{
  language=Python,
  backgroundcolor=\color{CodeBg},
  basicstyle=\ttfamily\small\color{CodeText},
  keywordstyle=\color{CodeKeyword}\bfseries,
  stringstyle=\color{CodeString},
  commentstyle=\color{CodeComment}\itshape,
  numberstyle=\tiny\color{CodeNumber},
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  breakatwhitespace=true,
  frame=single,
  rulecolor=\color{CodeBorder},
  framerule=0.4pt,
  framesep=4pt,
  xleftmargin=4pt,
  xrightmargin=4pt
}
\lstset{style=pythonstyle}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{fontsize=\small,breaklines=true,breakanywhere=true,commandchars=\\\{\}}
\makeatletter
\AtBeginDocument{%
  \@ifundefined{Shaded}{%
    \newenvironment{Shaded}{}{}%
  }{%
    \renewenvironment{Shaded}{\begin{tcolorbox}[colback=CodeBg,colframe=CodeBorder,boxrule=0.4pt,arc=2pt,left=6pt,right=6pt,top=4pt,bottom=4pt,breakable]}{\end{tcolorbox}}%
  }%
}
\makeatother
\usepackage{enumitem}
\setlist{itemsep=0.3em, topsep=0.2em}
\renewcommand{\labelitemi}{-}
\setlength{\parskip}{0.5em}
\setlength{\parindent}{0pt}
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
$highlighting-macros$
\begin{document}
$body$
\end{document}

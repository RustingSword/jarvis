telegram:
  token: "YOUR_BOT_TOKEN"
  media_dir: "~/.jarvis/telegram_media"
  bundle_wait_seconds: 10

codex:
  workspace_dir: "~/workspace"
  exec_path: "codex"
  timeout_seconds: 120
  max_retries: 2
  retry_backoff_seconds: 0.5

openai:
  base_url: "https://api.openai.com"
  audio:
    enabled: true
    model: "whisper-1"
    response_format: "json"
    timeout_seconds: 30
    max_retries: 2
    retry_backoff_seconds: 0.5

tts:
  enabled: true
  voice: "zh-CN-XiaoxiaoNeural"
  rate: "+0%"
  pitch: "+0Hz"
  timeout_seconds: 30
  max_retries: 1
  retry_backoff_seconds: 0.5
  # output_dir: "~/.jarvis/telegram_media"

storage:
  db_path: "~/.jarvis/jarvis.db"
  session_dir: "~/.jarvis/sessions"

memory:
  enabled: true
  workspace_dir: "~/workspace"
  db_path: "~/.jarvis/memory.sqlite"
  max_results: 6
  chunk_chars: 1600
  snippet_chars: 700
  extra_paths: []

logging:
  level: "INFO"
  file: "~/.jarvis/jarvis.log"  # 当天日志文件
  max_bytes: 10485760  # 单日超过该大小会自动切分
  backup_count: 5  # 保留最近 N 天日志

output:
  verbosity: "full"  # full: 输出工具调用与思考; compact: 仅输出思考和最终结果; result: 仅输出最终结果

workers:
  message_concurrency: 1
  command_concurrency: 1
  task_concurrency: 1

rss:
  enabled: true
  feeds_path: "data/rss_feeds.txt"
  state_path: "~/.jarvis/rss_state.json"
  concurrency: 8
  summary_concurrency: 2
  timeout_seconds: 10
  max_items_per_feed: 3
  max_total_items: 30
  summary_max_chars: 400
  summary_input_chars: 4000
  fulltext_enabled: true
  fulltext_concurrency: 4
  fulltext_timeout_seconds: 12
  fulltext_min_chars: 200
  fulltext_max_chars: 12000
  pdf_enabled: true
  pdf_output_dir: "reports/rss"
  pdf_backend: "pandoc"
  pdf_template: "reports/templates/zh_template.tex"
  pdf_engine: "lualatex"
  pdf_timeout_seconds: 180
  translate: true
  openai_model: "gpt-4o-mini"
  openai_temperature: 0.2
  openai_max_tokens: 256
  user_agent: "JarvisRSS/1.0"
  send_empty: false
  max_ids_per_feed: 200

triggers:
  scheduler:
    - name: "daily_summary"
      cron: "0 9 * * *"
      message: "每日提醒：记得规划今日安排。"
      # verbosity: "result"
    # - name: "heartbeat"
    #   cron: "*/30 * * * *"
    #   chat_id: "YOUR_CHAT_ID"
    #   action: "heartbeat"
    # - name: "rss_morning_digest"
    #   cron: "0 8 * * *"
    #   chat_id: "YOUR_CHAT_ID"
    #   action: "rss"

  monitors:
    - name: "cpu_alert"
      type: "cpu"
      threshold: 80
      interval_seconds: 60
      enabled: true

  webhook:
    host: "0.0.0.0"
    port: 8080
    token: "CHANGE_ME"

skills:
  sources:
    - name: "openai-curated"
      type: "github"
      repo: "openai/skills"
      path: "skills/.curated"
      ref: "main"
      token_env: "GITHUB_TOKEN"
